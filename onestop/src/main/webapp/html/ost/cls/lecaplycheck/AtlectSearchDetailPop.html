<div id="popups">
	<section class="sec-1">
		<div class="sec-body">
<!-- 			<div class="search-box">
				<input type="text" id="SYEAR" class="form-control" style="display: none;" data-bind="value: SYEAR"/> 
				<input type="text" id="TERM_GCD" class="form-control" style="display: none;" data-bind="value: TERM_GCD"/> 
			</div> -->
			<!-- 테이블 -->
			<div class="table-box table-list">
				<div class="table-body">
					<table class="table table-hover" data-toggle="table"  data-show-column="true">
						<caption>교과목정보</caption>
						<colgroup>
							<col style="min-width: 100px;">
							<col style="min-width: 100px;">
							<col style="min-width: 100px;">
							<col style="min-width: 100px;">
							<col style="min-width: 100px;">
							<col style="min-width: 100px;">
							<col style="min-width: 100px;">
							<col style="min-width: 100px;">
							<col style="min-width: 100px;">
						</colgroup>
						<thead>
							<tr>
								<th scope="col" rowspan="2">NO<br>&nbsp;</th>
								<th scope="col" rowspan="2">교과목명<br>&nbsp;</th>
								<th scope="col" rowspan="2">교과목번호<br>&nbsp;</th>
								<th scope="col" rowspan="2">분반<br>&nbsp;</th>
								<th scope="col" rowspan="2">교과목구분<br>&nbsp;</th>
								<th scope="col" rowspan="2">학점<br>&nbsp;</th>
								<th scope="col" rowspan="2">신청인원/<br>배정인원</th>
								<th scope="col" colspan="4">수강신청인원</th>
								<th scope="col" colspan="4">배정인원</th>
							</tr>
							<tr>
								<th scope="col">주전공</th>
								<th scope="col">부/복수/연합/교직</th>
								<th scope="col">일반선택</th>
								<th scope="col">타대생</th>
								<th scope="col">주전공</th>
								<th scope="col">부/복수/연합/교직</th>
								<th scope="col">일반선택</th>
								<th scope="col">타대생</th>
							</tr>
						</thead>
						<tbody id="resultTbody">
						</tbody>
					</table>
				</div>
			</div>
			<!-- /END 테이블 -->
		</div>
	</section>
</div>

<script type="text/x-tbody-template" id="resultTemplate">
	<tr style="cursor:pointer;">
        <td>#:RN#</td>
	    <td class="text-left" scope="row">#:SUBJ_NM#</td>
	    <td>#:SUBJ_NO#</td>
		<td>#:CLASS_NO#</td>
		<td>#:SUBJ_GCD_NM#</td>
		<td>#:CRDT#</td>
		<td class="text-left" scope="row">#:APLY_CNT#</td>
		<td>#:MAJOR_APLY_INWON_CNT#</td>
		<td>#:MULTI_MAJOR_APLY_INWON_CNT#</td>
		<td>#:GENERAL_SELECT_APLY_INWON_CNT#</td>
		<td>#:EXUNIV_STDT_APLY_INWON_CNT#</td>
		<td>#:MAJOR_ALLOC_INWON_CNT#</td>
		<td>#:MULTI_MAJOR_ALLOC_INWON_CNT#</td>
		<td>#:GENERAL_SELECT_ALLOC_INWON_CNT#</td>
		<td>#:EXUNIV_STDT_ALLOC_INWON_CNT#</td>
	</tr>
</script>
<script type="text/javascript">
	var total = 0; // 전체 문항수
	$(document).ready(popInit());

	function popInit() {
		/* 
		    [dataBind 공통] - json object의 값을 특정영역의 data-bind 정보를 이용해서 바인딩
		    param1 : obj - 데이터바인딩 할 영역
		    param2 : data - 데이터바인딩 할 데이터
		    param3 : obj_ - 데이터바인딩 영역에서 제외할 영역
		    param4 : callBack - 데이터바인딩 후 콜백함수
		    data-bind 구분
		      - value : $(this).val()
		      - text : $(this).text()
		      - html : $(this).html()
		      - htmlBr : $(this).html() -> 줄바꿈(/(\n|\r\n)/g)을 <br/>태그로 치환해서 표시
		      - checked : value값과 일치하는 항목을 checked처리
		      - chkContains : 바인딩되는 데이터가 콤나(,)등으로 여러개가 붙어서 구성되고, value값과 일치하는 항목들을 checked처리 할 경우 사용
		      - selected : option에 일치하는 value가 있는 경우 selected (없는경우 첫번째 option선택)
		      - unit : 단위를 붙여서 표시해야 하는 경우 (ex) data-bind="unit : lgnFailNumtm|회"
		      - cash : 천단위콤마표시 
		      - cash&unit : 천단위콤마표시 & 단위를 붙여서 표시 (ex) data-bind="cash&unit : wkrcnt|명"
		      - v_cash : value로 천단위콤마를 표시해서 넣는 경우
		 */
		//gfn_com_dataBind($("#popups"), scwin.detailObj);

		fn_schs();
	}

	/***************************************************************************
	 * 수강신청상세정보 조회
	 **************************************************************************/
	function fn_schs(data) {
/* 		scwin.DetailObj00 = gfn_com_inputdata($(".search-box"));

		scwin.DetailObj00.SCH_SYEAR = $("#SYEAR").val();
		scwin.DetailObj00.SCH_TERM_GCD = $("#TERM_GCD").val();
		scwin.DetailObj00.COLL_GRAD_GCD = scwin.loginUser.collGradGcd;*/
		scwin.detailObj01.COLL_GRAD_GCD = scwin.loginUser.collGradGcd;
		/* 기준학년도학기 ajax처리 */
		gfn_ajax_request({
			url : "/ost/cls/lecaplycheck/AtlectSearch/searchSchdChk",
			reqData : scwin.detailObj01,
			success : function(data, responseData) {
				if(data.resultYn == "N") {
					//alert(data.msg);
					return;
				} else {
					$("#resultTbody").listView({
						dataSource : responseData.list,
						dataBound : function(e) {
							totalCnt = responseData.totalCnt;
							currentData = data;
						},
						template : $("#resultTemplate"),
						totalCnt : responseData.totalCnt,
						paging : null,
						excel : null
					});
				}
			}
		});
	}
</script>