<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--
    * One-Stop 서비스 MyBatis SqlMap으로서 작용한다.
    * @Company : IDINO Information & Communications Co., Ltd.
    * @Copyright : Copyright (c) 2020
    * @Author : 구태균
    * @Create : 2022년 02월 14일
    * @Title : OstServiceMng_SQL.xml
    * @version : 1.0
    * @stereotype Sql
-->
<mapper namespace="core.main.onestop">

	<!-- 서비스업무구분관리 목록을 조회한다. -->
    <select id="selectQueryServiceTask" resultType="hashMap">
        {CALL OST.dbo.OST_메인_ONESTOP서비스_서비스업무구분관리_정렬재배치_조회(
        #{P_SYEAR}
        ,#{P_TERM_GCD}
        ,#{SCH_COLL_GRAD_GCD}
        ,#{SCH_GRAD_GCD}
        ,#{SCH_COLL_CD}
        ,#{SCH_DEPT_CD}
        ,#{SCH_MAJOR_CD})}
    </select>
    
    <!-- 서비스단계 목록을 조회한다. -->
    <select id="selectQueryServiceStep" resultType="hashMap">
        {CALL OST.dbo.OST_메인_ONESTOP서비스_서비스단계목록_조회(#{SERVICE_TASK_GCD},#{USE_FG})}
    </select>
    
    <!-- 서비스단계관련 일정구분 목록을 조회한다. -->
    <select id="selectQuerySchd" resultType="hashMap">
        {CALL OST.dbo.OST_메인_ONESTOP서비스_서비스단계관련일정구분_조회(#{SERVICE_TASK_GCD}, #{SERVICE_TASK_STEP_GCD})}
    </select>
    <!-- 서비스단계관련 메뉴 목록을 조회한다. -->
    <select id="selectQueryMenu" resultType="hashMap">
        {CALL OST.dbo.OST_메인_ONESTOP서비스_서비스단계관련메뉴_조회(#{SERVICE_TASK_GCD}, #{SERVICE_TASK_STEP_GCD})}
    </select>
   	<select id="selectListScheduleMng" resultType="hashMap">
        {CALL OST.DBO.[OST_메인_일정관리_조회](
        #{P_SYSTEM_GCD}, 
        #{P_SYEAR},     
        #{P_TERM_GCD}, 
        #{P_SCHD_TASK_GCD},  
        #{P_SCHD_GCD},         
        #{P_SCHD_START_DT},
        #{P_SCHD_CLOSE_DT},
        #{SCH_COLL_GRAD_GCD},  
        #{SCH_GRAD_GCD},
        #{SCH_COLL_CD},
        #{SCH_DEPT_CD},
        #{SCH_MAJOR_CD},
        #{P_DOING_FG}
        )}
    </select>
    
    <select id="selectListSchedulePopMng" resultType="hashMap">
        {CALL OST.DBO.[OST_메인_일정관리_조회](
        #{P_SYSTEM_GCD}, 
        #{P_SYEAR},     
        #{P_TERM_GCD}, 
        #{P_SCHD_TASK_GCD},  
        #{P_SCHD_GCD},         
        #{P_SCHD_START_DT},
        #{P_SCHD_CLOSE_DT},
        #{SCH_COLL_GRAD_GCD},  
        #{SCH_GRAD_GCD},
        #{SCH_COLL_CD},
        #{SCH_DEPT_CD},
        #{SCH_MAJOR_CD},
        #{P_DOING_FG}
        )}
    </select>
   
</mapper>