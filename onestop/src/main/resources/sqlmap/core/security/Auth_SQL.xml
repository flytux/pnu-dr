<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--
    * 사용자정보 조회 Mybatis SqlMap으로서 작용한다.
    * @Company : IDINO Co., Ltd.
    * @Copyright : Copyright (C) by IDINO All rights reserved.
    * @Author : 류승우
    * @Create : 2021년 07월 137일
    * @Title : security.auth
    * @version 1.0
    * @stereotype Sql
-->
<mapper namespace="security.auth">

    <resultMap type="com.onestop.core.security.user.CustomUserDetail" id="userDetailsMap" autoMapping="true">
    </resultMap>
    <select id="getUserById" resultMap="userDetailsMap">        
       {CALL OST.dbo.OST_공통_사용자정보_조회(#{USER_ID}, #{PASSWORD}, #{SYSTEM_GCD}, #{ORIGIN_ID})}
    </select>
    
    <select id="verifyTokenLogin" resultMap="userDetailsMap">        
       {CALL OST.dbo.OST_공통_사용자개인정보_조회(#{USER_ID})}
    </select>

</mapper>
