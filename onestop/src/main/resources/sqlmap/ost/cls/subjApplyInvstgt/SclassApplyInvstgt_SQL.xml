<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 
 * 계절수업 수요조사 iBatis SqlMap으로서 작용한다.
 * @Company : IDINO Co., Ltd.
 * @Copyright : Copyright (C) by IDINO All rights reserved.
 * @Author : 김현주
 * @Create : 2022년 02월 24일
 * @Title : SclassApplyInvstgtSql
 * @version 1.0
 * @stereotype Sql
  --> 
<mapper namespace="ost.cls.subjApplyInvstgt.sclassApplyInvstgt">   

	<resultMap type="hashMap" id="SclassSchdMap"></resultMap> 
    <resultMap type="hashMap" id="ApplySubjMap"></resultMap> 
    
    <select id="selectListApplySubj" resultMap="SclassSchdMap, ApplySubjMap"> 
	    {CALL OST.DBO.OST_수업_교과목수요조사_계절수업수요조사_개설신청교과목_조회(#{SYEAR}, #{TERM_GCD}, #{STDT_NO})} 
	</select> 

	<select id="selectListSclassSubj" resultType="hashMap"> 
	    {CALL OST.DBO.OST_수업_교과목수요조사_계절수업수요조사_수요조사교과목_조회(
	    		#{SYEAR}
	    	  , #{SCH_GUBUN}
	    	  , #{SCH_AREA_GCD}
	    	  , #{SCH_DEPT_CD}
	    	  , #{SCH_SUBJ_NM}
	    	  , #{FIRSTINDEX}
	    	  , #{LASTINDEX}
	    )} 
	</select>
	
	<select id="executeSubjApply" resultType="hashMap">
	    {CALL OST.DBO.OST_수업_교과목수요조사_계절수업수요조사_저장(
	    		#{rowState}
	    	 ,  #{SYEAR}
	    	 ,  #{TERM_GCD}
	    	 ,  #{STDT_NO} 
	    	 ,  #{SUBJ_NO}
	    	 ,  #{SUBJ_NM}
			 ,  #{SUBJ_SERIAL_NO}			 
	    	 ,  #{SUBJ_GCD}
	    	 ,  #{CRDT} 
	    	 ,  #{MNG_DEPT_CD}	 
	    	 ,  #{SESSION_USER_ID}
	    	 ,  #{SESSION_USER_IP}
	    	 ,  #{SESSION_SYSTEM_GCD}
	    	 ,  #{SESSION_MENU_CD}
	    )} 
	</select>
	
		<select id="selectListSclassSubjRank" resultType="hashMap"> 
	    {CALL OST.DBO.OST_수업_교과목수요조사_계절수업수요조사_순위_조회(
	    		#{SYEAR}
	    	  ,	#{TERM_GCD}
	    	  , #{SCH_TOT_CNT}
	    	  , #{SCH_GUBUN}
	    	  , #{SCH_AREA_GCD}
	    	  , #{SCH_DEPT_CD} 
	    )} 
	</select>

</mapper>
