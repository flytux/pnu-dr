<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 
 * 교육봉사활동 iBatis SqlMap으로서 작용한다.
 * @Company : IDINO Co., Ltd.
 * @Copyright : Copyright (C) by IDINO All rights reserved.
 * @Author : 이주은
 * @Create : 2022년 02월 23일
 * @Title : EduServeActiv_SQL
 * @version 1.0
 * @stereotype Sql
  --> 
<mapper namespace="ost.kj.teachcourseguide.EduServeActiv">  

	<select id="selectListEduServeActiv" resultType="hashMap">
	    {CALL OST.DBO.OST_교직_교직이수요건관리_대상자_조회(#{STDT_NO},#{SYEAR},#{TERM_GCD})} 
	</select>

	<select id="selectListEduServePlan" resultType="hashMap">
	    {CALL OST.DBO.OST_교직_교육봉사활동_계획서_조회(#{STDT_NO})} 
	</select>

	<select id="selectListEduServePlanCrdt" resultType="hashMap">
	    {CALL OST.DBO.OST_교직_교육봉사활동_학점신청_조회(#{STDT_NO})} 
	</select>

	<select id="selectListEsaItem" resultType="hashMap">
	    {CALL OST.DBO.OST_교직_교육봉사활동_항목_조회()} 
	</select>

	<select id="selectListPlanDetailSearch" resultType="hashMap">
	    {CALL OST.DBO.OST_교직_교육봉사활동_계획서_세부내용_조회( #{STDT_NO}, #{EDU_SERVE_ACTIV_PLAN_SEQ_NO} )} 
	</select>
	
	<select id="executePlan" resultType="hashMap">
	    {CALL OST.DBO.OST_교직_교육봉사활동_계획서_수정( 
	    	#{STDT_NO}, #{EDU_SERVE_ACTIV_PLAN_SEQ_NO}, #{EDU_SERVE_ACTIV_START_DATE}, #{EDU_SERVE_ACTIV_CLOSE_DATE}, #{EDU_SERVE_ACTIV_PLAN_TIME_CNT}, 
	    	#{EDU_SERVE_ACTIV_PLAN_STA_GCD}, #{GBN}, 	#{APPLY_GCD}, #{SYEAR}, #{TERM_GCD}, 
	    	#{SESSION_USER_ID}, #{SESSION_USER_IP}, #{SESSION_SYSTEM_GCD}, #{SESSION_MENU_CD}
	    )} 
	</select>
	
	<select id="deletePlan" resultType="hashMap">
	    {CALL OST.DBO.OST_교직_교육봉사활동_계획서_삭제( 
	    	#{STDT_NO}, #{EDU_SERVE_ACTIV_PLAN_SEQ_NO}, 
	    	#{SESSION_USER_ID}, #{SESSION_USER_IP}, #{SESSION_SYSTEM_GCD}, #{SESSION_MENU_CD}
	    )} 
	</select>

	<select id="selectListPlanDaylog" resultType="hashMap">
	    {CALL OST.DBO.OST_교직_교육봉사활동_일지_조회( #{STDT_NO}, #{EDU_SERVE_ACTIV_PLAN_SEQ_NO} )} 
	</select>
	
	<select id="executePlanDaylog" resultType="hashMap">
	    {CALL OST.DBO.OST_교직_교육봉사활동_일지_저장(
	    	#{STDT_NO}, #{EDU_SERVE_ACTIV_PLAN_SEQ_NO}, #{DAYLOG_START_DT}, #{DAYLOG_CLOSE_DT}, #{DAYLOG_ACTIV_CONTENT}, 
	    	#{SESSION_USER_ID}, #{SESSION_USER_IP}, #{SESSION_SYSTEM_GCD}, #{SESSION_MENU_CD}
	    )} 
	</select>
	
	<select id="deletePlanDaylog" resultType="hashMap">
	    {CALL OST.DBO.OST_교직_교육봉사활동_일지_삭제( 
	    	#{STDT_NO}, #{EDU_SERVE_ACTIV_PLAN_SEQ_NO}, #{DAYLOG_DIFF_SEQ_NO}
	    )} 
	</select>
	
	<select id="executeEduServeActiv" resultType="hashMap">
	    {CALL OST.DBO.OST_교직_교육봉사활동_계획서_처리(
	    	#{STDT_NO}, #{EDU_SERVE_ACTIV_PLAN_SEQ_NO}, #{GBN}, #{REQ_STA_GCD}, #{SYEAR}, #{TERM_GCD}, #{EDU_SERVE_ACTIV_TARGET_INWON_CNT},
	    	#{SESSION_USER_ID}, #{SESSION_USER_IP}, #{SESSION_SYSTEM_GCD}, #{SESSION_MENU_CD}
	    )}
	</select>
	
</mapper>