<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 
 * 학사학위취득유예신청 iBatis SqlMap으로서 작용한다.
 * @Company : IDINO Co., Ltd.
 * @Copyright : Copyright (C) by IDINO All rights reserved.
 * @Author : 이주은
 * @Create : 2022년 02월 14일
 * @Title : JolupDelayApply_SQL
 * @version 1.0
 * @stereotype Sql
  --> 
<mapper namespace="ost.hj.degacq.JolupDelayApply">  

    <resultMap type="hashMap" id="selectListJolupDelayApplyApplyresultMap1"></resultMap>
    <resultMap type="hashMap" id="selectListJolupDelayApplyApplyresultMap2"></resultMap>
    <resultMap type="hashMap" id="selectListJolupDelayApplyApplyresultMap3"></resultMap>
    
    <select id="selectListJolupDelayApply"  resultMap="selectListJolupDelayApplyApplyresultMap1, selectListJolupDelayApplyApplyresultMap2,selectListJolupDelayApplyApplyresultMap3">
	    {CALL OST.DBO.OST_학적_학사학위취득유예_신청_조회(#{STDT_NO})} 
    </select> 

	<select id="selectChkApply" resultType="hashMap">
	    {CALL OST.DBO.OST_학적_학사학위취득유예_신청가능여부(
	    	#{STDT_NO},#{APPLY_SYEAR}, #{APPLY_TERM_GCD}, #{TIMESNO}
		)} 
	</select>

	<select id="executeJolupDelayApply" resultType="hashMap">
	    {CALL OST.DBO.OST_학적_학사학위취득유예_신청_저장(
	    	 #{rowState}, #{STDT_NO},  #{APPLY_SYEAR},  #{APPLY_TERM_GCD},  #{CHG_SEQ_NO}, #{APPLY_CONTENT},#{SJ_CERT_DOCU_ISSUE_NO}
	    	 , #{SUPPOSE_SYEAR}, #{SUPPOSE_TERM_GCD}, #{SESSION_USER_ID},  #{SESSION_USER_IP},  #{SESSION_SYSTEM_GCD},  #{SESSION_MENU_CD}
		)} 
	</select>
	
	<select id="selectChkSchd" resultType="hashMap">
	    {CALL OST.DBO.OST_학적_학사학위취득유예_신청가능기간여부(#{APPLY_SYEAR},#{APPLY_TERM_GCD})} 
	</select>
	
	<select id="selectListSjCertDocuIssueNo" resultType="hashMap">
	    {CALL OST.DBO.OST_학적_학사학위취득유예_성적증명서발급내역_조회(#{STDT_NO},#{SYEAR},#{TERM_GCD})}
	</select>
	
</mapper>
