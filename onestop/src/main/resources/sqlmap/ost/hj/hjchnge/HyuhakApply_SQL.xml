<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 
 * 휴학신청 iBatis SqlMap으로서 작용한다.
 * @Company : IDINO Co., Ltd.
 * @Copyright : Copyright (C) by IDINO All rights reserved.
 * @Author : 김현주
 * @Create : 2022년 02월 010일
 * @Title : HyuhakApplySql
 * @version 1.0
 * @stereotype Sql
  --> 
<mapper namespace="ost.hj.hjchnge.hyuhakApply">   

	<resultMap type="hashMap" id="StdtInfoMap"></resultMap>
    <resultMap type="hashMap" id="HyuhakApplyMap"></resultMap> 
    
    <select id="selectListMilServeBm" resultType="hashMap"> 
	    {CALL HAKJUK.DBO.HJ_공통_군입대개월수_조회()} 
	</select> 

	<select id="selectListHyuhakApply" resultMap="StdtInfoMap, HyuhakApplyMap"> 
	    {CALL OST.DBO.OST_학적_휴복학_휴학신청_조회(#{SESSION_USER_ID}, #{FIRSTINDEX}, #{LASTINDEX}, #{SESSION_USER_DEPT_CD})} 
	</select>
	
	<select id="selectHyuhakPosibleYn" resultType="hashMap"> 
	    {CALL OST.DBO.OST_학적_휴복학_휴학가능여부(
	    	    #{APPLY_SYEAR}
	    	  , #{APPLY_TERM_GCD}
	    	  , #{SESSION_USER_ID}
	    	  , #{CHG_APPLY_REASON_GCD}
	    	  , #{HYUHAK_TERM_CNT}
	     )} 
	</select>
	
	<select id="executeHyuhakApply" resultType="hashMap">
	    {CALL OST.DBO.OST_학적_휴복학_휴학신청_저장(
	    		#{rowState}
	    	 ,  #{SESSION_USER_ID}
	    	 ,  #{APPLY_SYEAR}
	    	 ,  #{APPLY_TERM_GCD} 
	    	 ,  #{CHG_SEQ_NO}
			 ,  #{CHG_APPLY_REASON_GCD}			 
	    	 ,  #{SUPPOSE_SYEAR}
	    	 ,  #{SUPPOSE_TERM_GCD} 
	    	 ,  #{HYUHAK_TERM_CNT}
	    	 ,  #{MIL_START_DATE}
	    	 ,  #{MIL_CLASS_GCD}
	    	 ,  #{MIL_SERVE_BM_CNT}
	    	 ,  #{STDT_ZIP_NO}
	    	 ,  #{STDT_ADDR}
	    	 ,  #{STDT_DETAIL_ADDR}
	    	 ,  #{STDT_EMAIL}
	    	 ,  #{STDT_CELLULAR_NO_hidden}
	    	 ,  #{STDT_TEL_NO_hidden}	    	 
	    	 ,  #{ATTACH_FILE_GRP_CD}	 
	    	 ,  #{SYSTEM_GCD}
	    	 ,  #{CLAUSE_SEQ_NO}
	    	 ,  #{CLAUSE_HISTORY_SEQ_NO}	   
	    	 ,  #{CLAUSE_AGREE_SEQ_NO}	   	    	 
	    	 ,  #{SESSION_USER_ID}
	    	 ,  #{SESSION_USER_IP}
	    	 ,  #{SESSION_SYSTEM_GCD}
	    	 ,  #{SESSION_MENU_CD}
	    )} 
	</select>

</mapper>
