<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 
 * 복학신청 iBatis SqlMap으로서 작용한다.
 * @Company : IDINO Co., Ltd.
 * @Copyright : Copyright (C) by IDINO All rights reserved.
 * @Author : 김현주
 * @Create : 2022년 02월 16일
 * @Title : BokhakApplySql
 * @version 1.0
 * @stereotype Sql
  --> 
<mapper namespace="ost.hj.hjchnge.bokhakApply">   

	<resultMap type="hashMap" id="StdtInfoMap"></resultMap>
    <resultMap type="hashMap" id="BokhakApplyMap"></resultMap> 

	<select id="selectListBokhakApply" resultMap="StdtInfoMap, BokhakApplyMap"> 
	    {CALL OST.DBO.OST_학적_휴복학_복학신청_조회(#{STDT_NO}, #{FIRSTINDEX}, #{LASTINDEX}, #{SESSION_USER_DEPT_CD})} 
	</select>
	
	<select id="selectBokhakPosibleYn" resultType="hashMap"> 
	    {CALL OST.DBO.OST_학적_휴복학_복학가능여부(
	    	    #{STDT_NO}
	    	  , #{CHG_APPLY_REASON_GCD}
	    	  , #{MIL_END_DATE}
	     )} 
	</select> 
	
	<select id="executeBokhakApply" resultType="hashMap">
	    {CALL OST.DBO.OST_학적_휴복학_복학신청_저장(
	    		#{rowState}
	    	 ,  #{STDT_NO}
	    	 ,  #{APPLY_SYEAR}
	    	 ,  #{APPLY_TERM_GCD} 
	    	 ,  #{CHG_SEQ_NO}
			 ,  #{CHG_APPLY_REASON_GCD}	
			 ,  #{SUPPOSE_SYEAR}	
			 ,  #{SUPPOSE_TERM_GCD}			 
	    	 ,  #{MIL_END_DATE}
	    	 ,  #{MIL_NO}
	    	 ,  #{STDT_ZIP_NO}
	    	 ,  #{STDT_ADDR}
	    	 ,  #{STDT_DETAIL_ADDR}
	    	 ,  #{STDT_EMAIL}
	    	 ,  #{STDT_CELLULAR_NO_hidden}
	    	 ,  #{STDT_TEL_NO_hidden}	    	 
	    	 ,  #{ATTACH_FILE_GRP_CD}	 
	    	 ,  #{userAgent}	 
	    	 ,  #{SESSION_USER_ID}
	    	 ,  #{SESSION_USER_IP}
	    	 ,  #{SESSION_SYSTEM_GCD}
	    	 ,  #{SESSION_MENU_CD}
	    )} 
	</select>

</mapper>
