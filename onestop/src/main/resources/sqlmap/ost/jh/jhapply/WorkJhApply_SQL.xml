<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 
 * 장학생(근로)신청 iBatis SqlMap으로서 작용한다.
 * @Company : IDINO Co., Ltd.
 * @Copyright : Copyright (C) by IDINO All rights reserved.
 * @Author : 이주은
 * @Create : 2022년 03월 14일
 * @Title : WorkJhApply_SQL
 * @version 1.0
 * @stereotype Sql
  --> 
<mapper namespace="ost.jh.jhapply.WorkJhApply">  

	<select id="selectListWorkJhApplySchd" resultType="hashMap">
	    {CALL OST.DBO.OST_장학_웹신청_사용기간_조회(#{STDT_NO},#{JH_APPLY_GCD})} 
	</select>
	
	<select id="selectListWorkJhApply" resultType="hashMap">
	    {CALL OST.DBO.OST_장학_웹신청_신청리스트_조회(
	    	#{SYEAR},#{TERM_GCD},#{STDT_NO},#{JH_CHARGE_VIA_GCD},#{JH_GCD},#{JH_APPLY_GCD}
    	)} 
	</select>
	
	<select id="selectListStdtInfo" resultType="hashMap">
	    {CALL OST.DBO.OST_장학_웹신청_학생정보_조회(
	    	#{SYEAR},#{TERM_GCD},#{STDT_NO}
    	)} 
	</select>
	
	<select id="selectListBank" resultType="hashMap">
	    {CALL OST.DBO.OST_장학_웹신청_학생계좌_조회(
	    	#{STDT_NO}
    	)} 
	</select>
	
	<select id="selectListUpperDept" resultType="hashMap">
	    {CALL OST.DBO.OST_장학_웹신청_근무부서상위_조회(
    	)} 
	</select>
	
	<select id="selectListDept" resultType="hashMap">
	    {CALL OST.DBO.OST_장학_웹신청_근무부서하위_조회(
	    	#{DEPT_CD},#{SYEAR},#{TERM_GCD},#{JH_CD}
    	)} 
	</select>
	
	<select id="selectListDocs" resultType="hashMap">
	    {CALL OST.DBO.OST_장학_웹신청_제출서류_조회(
	    	#{HAKBU_GRAD_USE_FG},#{JH_APPLY_GCD}
    	)} 
	</select>
	
    <resultMap type="hashMap" id="selectListWorkJhApplySearchresultMap1"></resultMap>
    <resultMap type="hashMap" id="selectListWorkJhApplySearchresultMap2"></resultMap>
    <resultMap type="hashMap" id="selectListWorkJhApplySearchresultMap3"></resultMap>
    <select id="selectListWorkJhApplySearch"  resultMap="selectListWorkJhApplySearchresultMap1,  selectListWorkJhApplySearchresultMap2, selectListWorkJhApplySearchresultMap3">
	    {CALL OST.DBO.OST_장학_웹신청_신청내역_조회(
	    	#{SYEAR},#{TERM_GCD},#{STDT_NO},#{JH_CHARGE_VIA_GCD},#{JH_GCD},
	    	#{JH_CD},#{JH_APPLY_GCD},#{JH_SUBMIT_DOC_GCD},#{APPLY_CHASU}
    	)} 
	</select>
	
	<select id="executeWorkJhApply" resultType="hashMap">
	    {CALL OST.DBO.OST_장학_웹신청_입력(
	    	#{rowStatus},#{SYEAR},#{TERM_GCD},#{STDT_NO},#{JH_CHARGE_VIA_GCD},
	    	#{JH_GCD},#{JH_CD},#{OLD_JH_CD},#{PRETERM_GPA},#{BANK_CD},
	    	#{ACCT_NM},#{ACCT_NO},#{WORK_ORGAN_CD},#{WORK_DEPT_CD},#{WORK_PLACE_INFO},
	    	#{JH_APPLY_GCD},#{JH_SUBMIT_DOC_GCD},#{BROS_STDT_NO},#{BROS_HJ_STA_GCD},#{BROS_HJ_STA_GCD_NM},
	    	#{ZIP_NO},#{ADDR},#{DETAIL_ADDR},#{EMAIL},#{TEL_NO},
	    	#{CELLULAR_NO},#{APPLY_CHASU},#{SYSTEM_GCD},#{ATTACH_FILE_GRP_CD},
	    	#{SESSION_USER_ID},#{SESSION_USER_IP},#{SESSION_SYSTEM_GCD},#{SESSION_MENU_CD}
    	)} 
	</select>
	
	<select id="deleteWorkJhApply" resultType="hashMap">
	    {CALL OST.DBO.OST_장학_웹신청_삭제(
	    	#{SYEAR},#{TERM_GCD},#{STDT_NO},#{JH_CHARGE_VIA_GCD},#{JH_GCD},
	    	#{JH_CD},#{APPLY_CHASU},
	    	#{SESSION_USER_ID},#{SESSION_USER_IP},#{SESSION_SYSTEM_GCD},#{SESSION_MENU_CD}
    	)} 
	</select>
	
	<select id="selectListBrothers" resultType="hashMap">
	    {CALL OST.DBO.OST_장학_장학금신청_형제자매검색(
	    	#{SYEAR},#{TERM_GCD},#{STDT_NO},#{SEARCH_STDT_NO},#{SSN},
	    	#{''}
    	)} 
	</select>
	
</mapper>

